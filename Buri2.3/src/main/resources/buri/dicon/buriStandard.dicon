<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE components PUBLIC "-//SEASAR//DTD S2Container 2.3//EN"
	"http://www.seasar.org/dtd/components23.dtd">
<components>
	<include path="buri/dicon/buri-user.dicon"/>
	<include path="buri/dicon/buri-share.dicon"/>

	<component name="BuriInterceptorChain" class="org.seasar.framework.aop.interceptors.InterceptorChain">
		<initMethod name="add"><arg>traceInterceptor</arg></initMethod>
	</component>
	<component name="BuriRecorderInterceptor" class="org.seasar.buri.engine.interceptor.BuriRecorderInterceptor">
	</component>

	
	<component class="org.seasar.buri.engine.processor.impl.StandardBuriProcessorImpl">
	</component>

	<component name="BuriStandardEngine" class="org.seasar.buri.engine.impl.BuriStandardEngineImpl">
		<!--
		<initMethod>
		#self.readWorkFlowFromResource("sample.xpdl")
		</initMethod>
		-->
		<initMethod name="addActivitySelector">
			<arg><component class="org.seasar.buri.engine.selector.activityImpl.StateActivitySelector">
				</component></arg>
		</initMethod>
		<initMethod name="addActivitySelector">
			<arg><component class="org.seasar.buri.engine.selector.activityImpl.DirectActivitySelector">
				</component></arg>
		</initMethod>
		<initMethod name="addActivitySelector">
			<arg><component class="org.seasar.buri.engine.selector.activityImpl.StartActivitySelector">
				</component></arg>
		</initMethod>
		<initMethod name="addActivitySelector">
			<arg><component class="org.seasar.buri.engine.selector.activityImpl.BuriActivityPathFilter">
				</component></arg>
		</initMethod>
		<initMethod name="addActivitySelector">
			<arg><component class="org.seasar.buri.engine.selector.activityImpl.ParticipantBuriActivitySelector">
				</component></arg>
		</initMethod>
		
		<initMethod name="addProcessSelector">
			<arg><component class="org.seasar.buri.engine.selector.processImpl.DirectProcessSelector">
				</component></arg>
		</initMethod>
		<initMethod name="addProcessSelector">
			<arg><component class="org.seasar.buri.engine.selector.processImpl.DateProcessSelector">
				</component></arg>
		</initMethod>
		
		
		<initMethod name="setupBuriEngineConfig">
			<arg>BuriEngineConfig</arg>
		</initMethod>
		
		<!-- 遅延ロード用　遅延ロードさせたいときはここのコメントを外す
		<aspect pointcut="execute,selectPackage">BuriExecuteInterceptor</aspect>
		<aspect pointcut="readWorkFlowFromResource">BuriResourceLoadInterceptor</aspect>
		-->
	</component>


	<component class="org.seasar.buri.dao.util.impl.BuriUserUtilImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>
	<component class="org.seasar.buri.dao.util.impl.BuriDataUserUtilImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>
	<component class="org.seasar.buri.dao.util.impl.BuriPathUtilImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>
	<component class="org.seasar.buri.dao.util.impl.BuriStateUserUtilImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>
	<component class="org.seasar.buri.dao.util.impl.BTIDUtilImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>
	<component class="org.seasar.buri.dao.util.impl.BuriUndoLogUtilNoImpl">
		<aspect>BuriInterceptorChain</aspect>
	</component>


	<component class="org.seasar.buri.compiler.wakanago.WakanagoCompilerImpl">
	</component>
	<component class="org.seasar.buri.compiler.wakanago.CompilePackageImpl">
	</component>
	<component class="org.seasar.buri.compiler.wakanago.CompileProcessImpl">
	</component>
	<component class="org.seasar.buri.compiler.wakanago.DataFieldCompilerImpl">
	</component>
	<component class="org.seasar.buri.compiler.util.impl.DataAccessCompileUtilImpl">
	</component>

	<component class="org.seasar.buri.util.packages.abst.AbstDataAccessUtilManyKey" instance="outer" >
	</component>
	<component class="org.seasar.buri.util.packages.abst.AbstDataAccessUtilLongKey" instance="outer" >
	</component>



	<component class="org.seasar.buri.util.packages.abst.AbstPreprocessAccessUtil" instance="outer" >
	</component>
	<component class="org.seasar.buri.util.packages.abst.AbstBuriExePackages" instance="outer" >
		<aspect>BuriInterceptorChain</aspect>
		<property name="dataAccessFactory">
			<component class="org.seasar.buri.dataaccess.impl.BuriDataAccessFactoryImpl" instance="prototype" >
				<initMethod name="addChildFactory">
					<arg>"ScriptDataAccessFactory"</arg>
					<arg>ScriptDataAccessFactory</arg>
				</initMethod>
			</component>
		</property>
		<property name="participantProvider">null</property>
	</component>
	<component class="org.seasar.buri.util.packages.abst.AbstBuriExeProcessDataAccess" instance="outer" >
		<aspect>BuriRecorderInterceptor</aspect>
		<initMethod name="addProcessAOP"><arg>traceInterceptor</arg></initMethod>
		<!--
		<initMethod name="addProcessAOP"><arg>BuriRecorderInterceptor</arg></initMethod>
		-->
		<initMethod name="addConditonAOP"><arg>traceInterceptor</arg></initMethod>
		<property name="buriExePackages">null</property>
		<property name="dataAccessFactory">
			<component class="org.seasar.buri.dataaccess.impl.BuriDataAccessFactoryImpl" instance="prototype" >
			</component>
		</property>
	</component>
	
</components>
